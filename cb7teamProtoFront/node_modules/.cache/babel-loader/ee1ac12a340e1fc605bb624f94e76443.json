{"ast":null,"code":"import _classCallCheck from \"D:\\\\Web\\\\Kliks\\\\cb7teamProtoFront\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Web\\\\Kliks\\\\cb7teamProtoFront\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\Web\\\\Kliks\\\\cb7teamProtoFront\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\Web\\\\Kliks\\\\cb7teamProtoFront\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\Web\\\\Kliks\\\\cb7teamProtoFront\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"D:\\\\Web\\\\Kliks\\\\cb7teamProtoFront\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"D:\\\\Web\\\\Kliks\\\\cb7teamprotofront\\\\src\\\\components\\\\NavbarAuth.jsx\";\nimport React from 'react';\nimport { Navbar, NavDropdown } from 'react-bootstrap';\nimport { GlobalContext } from './GlobalContext';\nimport { Link, withRouter } from 'react-router-dom';\nimport axios from 'axios';\nimport './NavbarAuth.css';\n\nvar NavbarAuth =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(NavbarAuth, _React$Component);\n\n  function NavbarAuth(props, context) {\n    var _this;\n\n    _classCallCheck(this, NavbarAuth);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(NavbarAuth).call(this, props, context)); // Text.defaultProps.style = { fontFamily: 'Comfortaa' };\n\n    _this.handleShowLoginModal = _this.handleShowLoginModal.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleShowRegisterModal = _this.handleShowRegisterModal.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.doLogout = _this.doLogout.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleDashboardClick = _this.handleDashboardClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleMySessionsClick = _this.handleMySessionsClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      showLoginModal: false,\n      showRegisterModal: false\n    };\n    return _this;\n  }\n\n  _createClass(NavbarAuth, [{\n    key: \"handleShowLoginModal\",\n    value: function handleShowLoginModal() {\n      console.log('boong');\n      this.context.setShowLoginModal(true);\n    }\n  }, {\n    key: \"handleShowRegisterModal\",\n    value: function handleShowRegisterModal() {\n      console.log('bang');\n      this.context.setShowRegisterModal(true);\n    }\n  }, {\n    key: \"handleDashboardClick\",\n    value: function handleDashboardClick() {\n      this.props.history.push('/dashboard');\n    }\n  }, {\n    key: \"handleMySessionsClick\",\n    value: function handleMySessionsClick() {\n      this.props.history.push('/mysessions');\n    }\n  }, {\n    key: \"doLogout\",\n    value: function doLogout() {\n      var customHeader = \"X-KLICKS-AUTH\";\n      this.context.setToken(null);\n      this.context.setUser({\n        username: \"\",\n        firstname: \"\",\n        lastname: \"\",\n        email: \"\",\n        role: {\n          \"id\": \"\",\n          \"name\": \"\"\n        }\n      });\n      localStorage.clear();\n      axios.post('http://localhost:8080/login/logout', {\n        headers: {\n          \"X-KLICKS-AUTH\": this.context.token\n        }\n      });\n    }\n  }, {\n    key: \"logged\",\n    value: function logged() {\n      console.log(this.context.token);\n      return React.createElement(NavDropdown, {\n        title: this.context.user.username,\n        id: \"nav-dropdown\",\n        alignRight: \"true\",\n        className: \"mx-3 d-flex align-items-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(NavDropdown.Item, {\n        eventKey: \"4.3\",\n        onClick: this.handleMySessionsClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, this.context.user.role.id === 2 ? \"All Sessions\" : \"My Sessions\"), this.context.user.role.id === 2 ? React.createElement(NavDropdown.Item, {\n        eventKey: \"4.4\",\n        onClick: this.handleDashboardClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Dashboard\") : null, React.createElement(NavDropdown.Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }), React.createElement(NavDropdown.Item, {\n        eventKey: \"4.4\",\n        onClick: this.doLogout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Logout\"));\n    }\n  }, {\n    key: \"notLogged\",\n    value: function notLogged() {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(Navbar.Text, {\n        className: \"d-flex align-items-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"btn btn-outline-dark mr-2\",\n        onClick: this.handleShowLoginModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Login\")), React.createElement(Navbar.Text, {\n        className: \"d-flex align-items-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"btn btn-outline-dark mr-2\",\n        onClick: this.handleShowRegisterModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Register\")));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.context.token === null || this.context.token === undefined) {\n        return this.notLogged();\n      } else {\n        return this.logged();\n      }\n    }\n  }]);\n\n  return NavbarAuth;\n}(React.Component);\n\nNavbarAuth.contextType = GlobalContext;\nexport default withRouter(NavbarAuth);","map":{"version":3,"sources":["D:\\Web\\Kliks\\cb7teamprotofront\\src\\components\\NavbarAuth.jsx"],"names":["React","Navbar","NavDropdown","GlobalContext","Link","withRouter","axios","NavbarAuth","props","context","handleShowLoginModal","bind","handleShowRegisterModal","doLogout","handleDashboardClick","handleMySessionsClick","state","showLoginModal","showRegisterModal","console","log","setShowLoginModal","setShowRegisterModal","history","push","customHeader","setToken","setUser","username","firstname","lastname","email","role","localStorage","clear","post","headers","token","user","id","undefined","notLogged","logged","Component","contextType"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Navbar, NavDropdown } from 'react-bootstrap';\r\nimport { GlobalContext } from './GlobalContext';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './NavbarAuth.css';\r\n\r\nclass NavbarAuth extends React.Component {\r\n\r\n    static contextType = GlobalContext;\r\n\r\n    constructor(props, context) {\r\n        super(props, context);\r\n\r\n        // Text.defaultProps.style = { fontFamily: 'Comfortaa' };\r\n\r\n        this.handleShowLoginModal = this.handleShowLoginModal.bind(this);\r\n        this.handleShowRegisterModal = this.handleShowRegisterModal.bind(this);\r\n        this.doLogout = this.doLogout.bind(this);\r\n        this.handleDashboardClick = this.handleDashboardClick.bind(this);\r\n        this.handleMySessionsClick = this.handleMySessionsClick.bind(this);\r\n\r\n        this.state = {\r\n            showLoginModal: false,\r\n            showRegisterModal: false\r\n        };\r\n    }\r\n\r\n    handleShowLoginModal() {\r\n        console.log('boong');\r\n        this.context.setShowLoginModal( true );\r\n    }\r\n\r\n    handleShowRegisterModal() {\r\n        console.log('bang');\r\n        this.context.setShowRegisterModal( true );\r\n    }\r\n\r\n    handleDashboardClick(){\r\n        this.props.history.push('/dashboard');\r\n    }\r\n\r\n    handleMySessionsClick(){\r\n        this.props.history.push('/mysessions');\r\n    }\r\n\r\n    doLogout(){\r\n        let customHeader = \"X-KLICKS-AUTH\"\r\n        this.context.setToken( null );\r\n        this.context.setUser( {\r\n            username: \"\",\r\n              firstname: \"\",\r\n              lastname: \"\",\r\n              email: \"\",\r\n              role: {\"id\":\"\",\r\n                   \"name\":\"\"     \r\n              }\r\n                            } );\r\n        localStorage.clear();\r\n        axios.post('http://localhost:8080/login/logout',\r\n            {\r\n                headers: {\r\n                    \"X-KLICKS-AUTH\": this.context.token\r\n                }\r\n            });\r\n    }\r\n\r\n    logged() {\r\n        console.log(this.context.token);\r\n        return (\r\n            <NavDropdown title={this.context.user.username} id=\"nav-dropdown\" alignRight=\"true\" className=\"mx-3 d-flex align-items-center\">\r\n                <NavDropdown.Item eventKey=\"4.3\" onClick={ this.handleMySessionsClick }>\r\n                {((this.context.user.role.id === 2) ? \"All Sessions\" : \"My Sessions\")}\r\n                </NavDropdown.Item>\r\n                {((this.context.user.role.id === 2) ? <NavDropdown.Item eventKey=\"4.4\" onClick={ this.handleDashboardClick }>\r\n                    Dashboard\r\n                </NavDropdown.Item> : null)}\r\n                {/* {((true) ? <NavDropdown.Item eventKey=\"4.3\" onClick={ this.handleDashboardClick }>\r\n                    Dashboard\r\n                </NavDropdown.Item> : null)} */}\r\n                \r\n                <NavDropdown.Divider />\r\n                <NavDropdown.Item eventKey=\"4.4\" onClick={ this.doLogout }>Logout</NavDropdown.Item>\r\n            </NavDropdown>\r\n        );\r\n    }\r\n\r\n    notLogged(){\r\n        return(\r\n            <React.Fragment>\r\n                <Navbar.Text className=\"d-flex align-items-center\">\r\n                    <a className=\"btn btn-outline-dark mr-2\" onClick={this.handleShowLoginModal}>Login</a>\r\n                </Navbar.Text>\r\n                <Navbar.Text className=\"d-flex align-items-center\">\r\n                    <a className=\"btn btn-outline-dark mr-2\" onClick={this.handleShowRegisterModal} >Register</a>\r\n                </Navbar.Text>\r\n            </React.Fragment>    \r\n        );\r\n    }\r\n\r\n    render() {\r\n        if ((this.context.token === null) || (this.context.token === undefined)) {\r\n            return (\r\n                this.notLogged()\r\n            );\r\n        } else {\r\n            return (\r\n                this.logged()\r\n            )\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default withRouter(NavbarAuth);"]},"metadata":{},"sourceType":"module"}