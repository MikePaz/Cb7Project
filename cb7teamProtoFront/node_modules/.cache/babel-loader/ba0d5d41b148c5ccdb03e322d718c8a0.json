{"ast":null,"code":"import _classCallCheck from \"D:\\\\Web\\\\Kliks\\\\cb7teamProtoFront\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Web\\\\Kliks\\\\cb7teamProtoFront\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\Web\\\\Kliks\\\\cb7teamProtoFront\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\Web\\\\Kliks\\\\cb7teamProtoFront\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\Web\\\\Kliks\\\\cb7teamProtoFront\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"D:\\\\Web\\\\Kliks\\\\cb7teamProtoFront\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"D:\\\\Web\\\\Kliks\\\\cb7teamprotofront\\\\src\\\\components\\\\CalendarTest.jsx\";\nimport React from 'react';\nimport { Container, Col, Row, Jumbotron } from 'react-bootstrap';\nimport moment from 'moment';\nimport './CalendarTest.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport axios from 'axios';\nimport { GlobalProvider, GlobalContext } from './GlobalContext';\n\nvar CalendarTest =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CalendarTest, _React$Component);\n\n  function CalendarTest(props) {\n    var _this;\n\n    _classCallCheck(this, CalendarTest);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CalendarTest).call(this, props));\n    _this.state = {\n      baseDate: moment().add(1, \"day\"),\n      sessionList: [{\n        \"date\": \"2019\",\n        \"user\": {\n          \"id\": \"pouts\"\n        }\n      }]\n    };\n    _this.dailySchedule2 = _this.dailySchedule2.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.sixDays = _this.sixDays.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handlePrev = _this.handlePrev.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleNext = _this.handleNext.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getAvailableSessions = _this.getAvailableSessions.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSessionClick = _this.handleSessionClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleYourSessionClick = _this.handleYourSessionClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(CalendarTest, [{\n    key: \"sixDays\",\n    value: function sixDays(date) {\n      var sixDaysCols = [];\n\n      for (var i = 0; i < 6; i++) {\n        var sixDaysCol = this.dailySchedule2(moment(date).add(i, 'day'));\n        sixDaysCols.push(sixDaysCol);\n      }\n\n      ;\n      return sixDaysCols;\n    }\n  }, {\n    key: \"dailySchedule2\",\n    value: function dailySchedule2(date, j) {\n      var timeslots = [\"Morning\", \"Midday\", \"Afternoon\", \"Night\"];\n      var timeslotsTimes = [\"8\", \"12\", \"16\", \"20\"];\n      var timeslotList = [React.createElement(\"div\", {\n        key: moment(date).format(\"YYYY/MM/DD\"),\n        className: \"row justify-content-center d-flex align-items-center dayWordBox mb-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, moment(date).format(\"dddd\")), \"\\n\")];\n      timeslotList.push(React.createElement(\"div\", {\n        key: moment(date).format(\"DD / MM\"),\n        className: \"row justify-content-center d-flex align-items-center mb-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(\"small\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, moment(date).format(\"DD / MM\"))));\n\n      for (var i = 0; i < timeslots.length; i++) {\n        var sessionDate = moment(date).set({\n          hour: parseInt(timeslotsTimes[i]),\n          minute: 0,\n          second: 0\n        });\n        var unique = moment(sessionDate).format('YYYY-MM-DD HH') + \":00:00\";\n        var timeslotRow = void 0; // for (let j=0; j < this.state.sessionList.length; j++) {\n        //     if( (moment(sessionDate).format('YYYY-MM-DD HH') + \":00:00\") === this.state.sessionList[ j ].date){\n        //         timeslotRow = <div key = {unique} className=\"row justify-content-center d-flex align-items-center dailyBox booked mx-1\">BOOKED</div>\n        //     }\n        // }\n        // if(!timeslotRow){\n        //     timeslotRow = <div key = {unique} className=\"row justify-content-center d-flex align-items-center dailyBox available mx-1\" onClick={ this.handleSessionClick.bind(this, unique) }>{timeslots[i]}</div>\n        // }\n        // timeslotList.push(timeslotRow)\n        //for GREEN below\n\n        for (var k = 0; k < this.state.sessionList.length; k++) {\n          // (((this.context.user.id === this.state.sessionList[ k ].user.id) && (unique === this.state.sessionList[ k ].date)) ? timeslotRow = <div key = {unique} className=\"row justify-content-center d-flex align-items-center dailyBox own mx-1\">THIS IS YOUR SESSION!</div> : timeslotRow = undefined);\n          if (this.context.user.id === this.state.sessionList[k].user.id && unique === this.state.sessionList[k].date) {\n            timeslotRow = React.createElement(\"div\", {\n              key: unique,\n              className: \"row justify-content-center d-flex align-items-center text-center bg-primary dailyBox own mx-1\",\n              onClick: this.handleYourSessionClick.bind(this, unique),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 64\n              },\n              __self: this\n            }, \"YOUR SESSION!\");\n          }\n        }\n\n        if (!timeslotRow) {\n          for (var _j = 0; _j < this.state.sessionList.length; _j++) {\n            if (moment(sessionDate).format('YYYY-MM-DD HH') + \":00:00\" === this.state.sessionList[_j].date) {\n              timeslotRow = React.createElement(\"div\", {\n                key: unique,\n                className: \"row justify-content-center d-flex align-items-center dailyBox booked mx-1\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 70\n                },\n                __self: this\n              }, \"BOOKED\");\n            }\n          }\n        }\n\n        if (!timeslotRow) {\n          timeslotRow = React.createElement(\"div\", {\n            key: unique,\n            className: \"row justify-content-center d-flex align-items-center dailyBox available mx-1\",\n            onClick: this.handleSessionClick.bind(this, unique),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 75\n            },\n            __self: this\n          }, timeslots[i]);\n        }\n\n        timeslotList.push(timeslotRow);\n      }\n\n      ;\n      return React.createElement(\"div\", {\n        key: moment(date).format(\"YYYY/MM/DD\"),\n        className: \"col-md-2 col-4 px-0 mx-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, timeslotList);\n    }\n  }, {\n    key: \"handleSessionClick\",\n    value: function handleSessionClick(unique) {\n      console.log(unique);\n      this.context.setShowBookSessionModal(true);\n      this.context.setSessionToBook(unique);\n    }\n  }, {\n    key: \"handleYourSessionClick\",\n    value: function handleYourSessionClick(unique) {\n      console.log(unique);\n      console.log('your clank');\n      this.context.setYourSession(unique);\n      this.context.setShowYourSessionModal(true); // this.context.setYourSessionToBook( unique );\n    }\n  }, {\n    key: \"handlePrev\",\n    value: function handlePrev() {\n      this.getAvailableSessions(moment(this.state.baseDate).subtract(6, 'days'));\n      this.setState({\n        baseDate: moment(this.state.baseDate).subtract(6, 'days')\n      });\n    }\n  }, {\n    key: \"handleNext\",\n    value: function handleNext() {\n      this.setState({\n        baseDate: moment(this.state.baseDate).add(6, 'days')\n      });\n      this.getAvailableSessions(moment(this.state.baseDate).add(6, 'days'));\n    }\n  }, {\n    key: \"getAvailableSessions\",\n    value: function getAvailableSessions(date) {\n      var _this2 = this;\n\n      var bookedSessionsStart = moment(date);\n      bookedSessionsStart = moment(bookedSessionsStart).set({\n        hour: 7,\n        minute: 0,\n        second: 0,\n        millisecond: 0\n      }).toDate();\n      var bookedSessionsEnd = moment(bookedSessionsStart).add(5, 'days');\n      bookedSessionsEnd = moment(bookedSessionsEnd).set({\n        hour: 21\n      }).set({\n        minute: 0\n      }).toDate(); // axios.get(`https://api.myjson.com/bins/ptzx0`\n\n      axios.get(\"http://localhost:8080/sessions/between/\".concat(moment(bookedSessionsStart).format('YYYY-MM-DD HH') + ':00:00', \"/\").concat(moment(bookedSessionsEnd).format('YYYY-MM-DD HH') + \":00:00\")).then(function (response) {\n        _this2.setState({\n          sessionList: response.data\n        });\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getAvailableSessions(this.state.baseDate);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(GlobalProvider, {\n        value: this.state,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(Row, {\n        className: \"justify-content-center whiteBgHere\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(Col, {\n        className: \"col-12 col-md-10 align-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"mt-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(Row, {\n        className: \"mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(Col, {\n        className: \"calendarNav justify-content-center d-flex align-items-center\",\n        onClick: this.handlePrev,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"far fa-arrow-alt-circle-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      })), React.createElement(Col, {\n        className: \"col-6 col-md-8 justify-content-center d-flex align-items-center calendarHead\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"\\\"week\\\"\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }), \"from \", moment(this.state.baseDate).format(\"DD / MM\"), \" to \", moment(this.state.baseDate).add(6, 'days').format(\"DD / MM\")), React.createElement(Col, {\n        className: \"calendarNav justify-content-center d-flex align-items-center\",\n        onClick: this.handleNext,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"far fa-arrow-alt-circle-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, this.sixDays(this.state.baseDate)), React.createElement(Row, {\n        className: \"justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"For appointments on the same day \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }), React.createElement(\"a\", {\n        href: \"#\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"contact us\"))))));\n    }\n  }]);\n\n  return CalendarTest;\n}(React.Component);\n\nCalendarTest.contextType = GlobalContext;\nexport default CalendarTest;","map":{"version":3,"sources":["D:\\Web\\Kliks\\cb7teamprotofront\\src\\components\\CalendarTest.jsx"],"names":["React","Container","Col","Row","Jumbotron","moment","FontAwesomeIcon","axios","GlobalProvider","GlobalContext","CalendarTest","props","state","baseDate","add","sessionList","dailySchedule2","bind","sixDays","handlePrev","handleNext","getAvailableSessions","handleSessionClick","handleYourSessionClick","date","sixDaysCols","i","sixDaysCol","push","j","timeslots","timeslotsTimes","timeslotList","format","length","sessionDate","set","hour","parseInt","minute","second","unique","timeslotRow","k","context","user","id","console","log","setShowBookSessionModal","setSessionToBook","setYourSession","setShowYourSessionModal","subtract","setState","bookedSessionsStart","millisecond","toDate","bookedSessionsEnd","get","then","response","data","Component","contextType"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Container, Col, Row, Jumbotron } from 'react-bootstrap';\r\nimport moment from 'moment';\r\nimport './CalendarTest.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport axios from 'axios';\r\nimport { GlobalProvider, GlobalContext } from './GlobalContext';\r\n\r\nclass CalendarTest extends React.Component{\r\n\r\n    static contextType = GlobalContext;\r\n\r\n    constructor( props ){\r\n        super(props);\r\n        this.state = {\r\n            baseDate: moment().add(1, \"day\"),\r\n            sessionList: [ { \"date\": \"2019\",\r\n                                \"user\":{\"id\":\"pouts\"}\r\n            }]\r\n        }\r\n\r\n        this.dailySchedule2 = this.dailySchedule2.bind(this);\r\n        this.sixDays = this.sixDays.bind(this);\r\n        this.handlePrev = this.handlePrev.bind(this);\r\n        this.handleNext = this.handleNext.bind(this);\r\n        this.getAvailableSessions = this.getAvailableSessions.bind(this);\r\n        this.handleSessionClick = this.handleSessionClick.bind(this);\r\n        this.handleYourSessionClick = this.handleYourSessionClick.bind(this);\r\n    }\r\n\r\n    sixDays( date ){\r\n        let sixDaysCols = [];\r\n        for(let i = 0; i < 6; i++){\r\n            let sixDaysCol = this.dailySchedule2( moment( date ).add(i, 'day') );\r\n            sixDaysCols.push(sixDaysCol);\r\n        };\r\n        return sixDaysCols;\r\n    }\r\n\r\n    dailySchedule2 ( date, j ){\r\n        let timeslots = [\"Morning\", \"Midday\", \"Afternoon\", \"Night\"];\r\n        let timeslotsTimes = [\"8\", \"12\", \"16\", \"20\"];\r\n        let timeslotList = [<div key={ moment( date ).format(\"YYYY/MM/DD\") } className=\"row justify-content-center d-flex align-items-center dayWordBox mb-0\"><b>{moment( date ).format(\"dddd\")}</b>{\"\\n\"}</div>];\r\n        timeslotList.push( <div key={ moment( date ).format(\"DD / MM\") } className=\"row justify-content-center d-flex align-items-center mb-2\"><small>{moment( date ).format(\"DD / MM\")}</small></div>);\r\n        for(let i = 0; i<timeslots.length ; i++){\r\n            let sessionDate = moment( date ).set({ hour: parseInt(timeslotsTimes[i]), minute: 0, second: 0});\r\n            let unique = moment( sessionDate ).format('YYYY-MM-DD HH') + \":00:00\";\r\n            let timeslotRow;\r\n            // for (let j=0; j < this.state.sessionList.length; j++) {\r\n            //     if( (moment(sessionDate).format('YYYY-MM-DD HH') + \":00:00\") === this.state.sessionList[ j ].date){\r\n            //         timeslotRow = <div key = {unique} className=\"row justify-content-center d-flex align-items-center dailyBox booked mx-1\">BOOKED</div>\r\n            //     }\r\n            // }\r\n            // if(!timeslotRow){\r\n            //     timeslotRow = <div key = {unique} className=\"row justify-content-center d-flex align-items-center dailyBox available mx-1\" onClick={ this.handleSessionClick.bind(this, unique) }>{timeslots[i]}</div>\r\n            // }\r\n            // timeslotList.push(timeslotRow)\r\n\r\n            //for GREEN below\r\n\r\n            for (let k=0; k<this.state.sessionList.length; k++){\r\n                // (((this.context.user.id === this.state.sessionList[ k ].user.id) && (unique === this.state.sessionList[ k ].date)) ? timeslotRow = <div key = {unique} className=\"row justify-content-center d-flex align-items-center dailyBox own mx-1\">THIS IS YOUR SESSION!</div> : timeslotRow = undefined);\r\n                if((this.context.user.id === this.state.sessionList[ k ].user.id) && (unique === this.state.sessionList[ k ].date)){\r\n                    timeslotRow = <div key = {unique} className=\"row justify-content-center d-flex align-items-center text-center bg-primary dailyBox own mx-1\" onClick={ this.handleYourSessionClick.bind(this, unique) }>YOUR SESSION!</div>\r\n                }\r\n            }\r\n            if(!timeslotRow){\r\n                for (let j=0; j < this.state.sessionList.length; j++) {\r\n                    if( (moment(sessionDate).format('YYYY-MM-DD HH') + \":00:00\") === this.state.sessionList[ j ].date){\r\n                        timeslotRow = <div key = {unique} className=\"row justify-content-center d-flex align-items-center dailyBox booked mx-1\">BOOKED</div>\r\n                    }\r\n                }\r\n            }\r\n            if(!timeslotRow){\r\n                timeslotRow = <div key = {unique} className=\"row justify-content-center d-flex align-items-center dailyBox available mx-1\" onClick={ this.handleSessionClick.bind(this, unique) }>{timeslots[i]}</div>\r\n            }\r\n            timeslotList.push(timeslotRow)\r\n        };\r\n        \r\n        return <div key={ moment( date ).format(\"YYYY/MM/DD\") } className=\"col-md-2 col-4 px-0 mx-0\">{ timeslotList }</div>;\r\n    }\r\n\r\n    handleSessionClick( unique ){\r\n        console.log( unique );\r\n        this.context.setShowBookSessionModal( true );\r\n        this.context.setSessionToBook( unique );\r\n    \r\n    }\r\n    handleYourSessionClick( unique ){\r\n        console.log( unique );\r\n        console.log('your clank');\r\n        this.context.setYourSession( unique );\r\n        this.context.setShowYourSessionModal( true );\r\n        // this.context.setYourSessionToBook( unique );\r\n    }\r\n\r\n    handlePrev(){\r\n        this.getAvailableSessions( moment( this.state.baseDate ).subtract( 6, 'days' ) );\r\n        this.setState({baseDate: moment( this.state.baseDate ).subtract( 6, 'days' )});\r\n    }\r\n\r\n    handleNext(){\r\n        this.setState({baseDate: moment( this.state.baseDate ).add( 6, 'days' )});\r\n        this.getAvailableSessions( moment( this.state.baseDate ).add( 6, 'days' ) );\r\n    }\r\n\r\n    getAvailableSessions( date ){\r\n        let bookedSessionsStart = moment( date );\r\n        bookedSessionsStart = moment( bookedSessionsStart ).set({ hour:7,minute:0,second:0,millisecond:0 }).toDate();\r\n        let bookedSessionsEnd = moment( bookedSessionsStart ).add(5, 'days');\r\n        bookedSessionsEnd = moment( bookedSessionsEnd ).set({hour:21}).set({minute:0}).toDate();\r\n        // axios.get(`https://api.myjson.com/bins/ptzx0`\r\n        axios.get(`http://localhost:8080/sessions/between/${ moment(bookedSessionsStart).format( 'YYYY-MM-DD HH') + ':00:00' }/${ moment(bookedSessionsEnd).format( 'YYYY-MM-DD HH') +\":00:00\" }`\r\n        ).then( response => {\r\n            this.setState( { sessionList: response.data } );\r\n        });\r\n      }\r\n\r\n      componentDidMount(){\r\n        this.getAvailableSessions( this.state.baseDate );\r\n      }\r\n\r\n    render(){\r\n        return(\r\n            <GlobalProvider value={ this.state }>\r\n                <Row className=\"justify-content-center whiteBgHere\">\r\n                    <Col className=\"col-12 col-md-10 align-center\">\r\n                        <Container className=\"mt-5\">\r\n                            <Row className=\"mb-4\">\r\n                                <Col className=\"calendarNav justify-content-center d-flex align-items-center\" onClick={ this.handlePrev }><i className=\"far fa-arrow-alt-circle-left\"></i></Col>\r\n                                <Col className=\"col-6 col-md-8 justify-content-center d-flex align-items-center calendarHead\">\"week\"<br></br>from { moment(this.state.baseDate).format(\"DD / MM\")  } to { moment(this.state.baseDate).add(6, 'days').format(\"DD / MM\")  }</Col>\r\n                                <Col className=\"calendarNav justify-content-center d-flex align-items-center\" onClick={ this.handleNext }><i className=\"far fa-arrow-alt-circle-right\"></i></Col>\r\n                            </Row>\r\n                            <Row>\r\n                                {this.sixDays( this.state.baseDate )}\r\n                            </Row>\r\n                            <Row className=\"justify-content-center\">For appointments on the same day <br></br><br></br><a href=\"#\">contact us</a></Row>\r\n                        </Container>\r\n                    </Col>\r\n                </Row>\r\n            </GlobalProvider>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default CalendarTest;"]},"metadata":{},"sourceType":"module"}